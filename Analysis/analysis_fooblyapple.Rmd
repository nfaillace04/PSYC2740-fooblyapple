---
title: "analysis_fooblyapple"
ggeom_point(date: "2024-11-12"
---
#install and load packages
```{r}
#install.packages("tidyverse")
library(tidyverse)
```
#import data
#CHANGE THIS FOR NEW DATA
```{r}
sona_data = read.csv("../data/firstsonadata.csv") %>%
  select(-sona_id) %>% 
  mutate(data_source = "sona")

prolific_data = read.csv("../data/firstprolificdata.csv")%>%
  select(-PROLIFIC_PID) %>% 
  mutate(data_source = "prolific")

final_data = rbind(sona_data, prolific_data)

```
#inspect data
```{r}
nrow(final_data)
ncol(final_data)

final_data %>%
pull(ID) %>% unique() %>% length

final_data %>%
  group_by(ID) %>% count()

final_data %>% 
  filter(typeoftrial == "target" & block_number == 1)%>%
  group_by(ID) %>%
  count()
#Our independent variables are "valence" (positive, negative, neutral) and "type" (novel or familiar).
#Our dependent variables are "rt" for priming trials.
as.factor(final_data$valence)
as.factor(final_data$type)

final_data %>%
  group_by(ID) %>% filter(typeoftrial == "target") %>% count()

final_data %>%
  group_by(ID) %>% filter(typeoftrial == "sentence") %>% count() 

final_data %>%
  group_by(ID) %>% filter(typeoftrial == "attention") %>% count() 

```
If number of target trials is not 105, exclude from data. If meaningchecks don't equal 6, exclude

#Basic descriptives
```{r}
demographics = final_data %>%
 filter(typeoftrial == "demographics") %>%
  select(ID, age, gender, education, race, hispanic, dominant_hand, alert_time, english) %>%
  mutate(across(c(age, education), ~ replace_na(., NA))) %>%
  mutate(across(c(gender, race, hispanic, dominant_hand, alert_time, english), 
                ~ replace_na(., "NOT_FOUND"))) %>%
  mutate(across(c(age, gender, education, race, hispanic, dominant_hand, alert_time, english), 
                ~ ifelse(. == "", "blank", .)))

subject_age = demographics %>%
summarise(mean_age = mean(age, na.rm = TRUE),
            sd_age = sd(age, na.rm = TRUE))

gender_distribution = demographics %>%
  filter(gender != "blank") %>%
  count(gender)

race_distribution = demographics %>%
  filter(race != "blank") %>%
  count(race)

subject_education = demographics %>%
  summarise(mean_education = mean(education, na.rm = TRUE),
            sd_education = sd(education, na.rm = TRUE))

```

# priming

```{r}
valence_codes = read_csv("../data/valence_codes.csv")

priming_data = final_data %>% 
  filter(typeoftrial == "target" & block_number == 1)%>%
  select(condition, rt, prime, target, correct) %>%
  left_join(valence_codes) #make sure to filter "dodish" "foobly" "nuppical" "mipp"
```


